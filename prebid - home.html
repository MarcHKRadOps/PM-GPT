<html>
    <head>
        <script async src="https://www.googletagservices.com/tag/js/gpt.js"></script>
        <script async src="//prebid2.15.0.js"></script>
        <script type='text/javascript' src='https://www.practicalmachinist.com/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp'>
        <script>
            var desktopSizes = [
                [970, 250],
                [970,90],
                [728,90],
                [300, 600],
                [300,250],
                [160,600],
                [120, 600]
            ];
            var phoneSizes = [
                [320, 100],
                [320, 50],
                [300, 250]
            ];
            var allSizes = [
                [970, 250],
                [970,90],
                [728,90],
                [320, 100],
                [320, 50],
                [300, 600],
                [300, 250],
                [160,600],
                [120,600]
            ];
            var PREBID_TIMEOUT = 1000;
            var FAILSAFE_TIMEOUT = 3000;

            var adUnits = [
                {
                    code: 'div-gpt-ad-Header',
                    mediaTypes: {
                        banner: {
                            sizes: allSizes
                        }
                    },
                    bids: [{
                        bidder:,
                        params: {
                            placementId:
                        }
                    }]
                },
                {
                    code: 'div-gpt-ad-HP-Half-Page',
                    mediaTypes: {
                        banner: {
                            sizes: allSizes
                        }
                    },
                    bids: [{
                        bidder: ,
                        params: {
                            placementId: 
                        }
                    }]
                },
                {
                    code: 'div-gpt-ad-Footer',
                    mediaTypes: {
                        banner: {
                            sizes: allSizes
                        }
                    },
                    bids: [{
                        bidder:,
                        params: {
                            placementId: 
                        }
                    }]
                }
            ];

            const customPriceMap = {
                "buckets" : [{
                    "min" : 0,
                    "max" : 5,
                    "increment" : 0.01
                },
                {
                    "min" : 5,
                    "max" : 10,
                    "increment" : 0.05
                },
                {
                    "min" : 10,
                    "max" : 20,
                    "increment" : 0.1
                },
                {
                    "min" : 20,
                    "max" : 50,
                    "increment" : 0.5
                },
                {
                    "min" : 50,
                    "max" : 99,
                    "increment" : 1.0
                }]
            };

            var googletag = googletag || {};
            googletag.cmd = googletag.cmd || [];
            googletag.cmd.push(function() {
                googletag.pubads().disableInitialLoad();
            });

            var pbjs = pbjs || {};
            pbjs.que = pbjs.que || [];

            pbjs.que.push(function() {
                pbjs.addAdUnits(adUnits);
                pbjs.setConfig({
                    priceGranularity: customPriceMap
                },
                {
                    sizeConfig: [{
                        'mediaQuery': '(min-width: 768px)',
                        'sizesSupported': desktopSizes,
                        'labels': ['desktop']
                    }, {
                        'mediaQuery': '(min-width: 0px) and (max-width: 767px)',
                        'sizesSupported': phoneSizes,
                        'labels': ['mobile']
                    }]
                });
                pbjs.requestBids({
                    bidsBackHandler: sendAdserverRequest,
                    timeout: PREBID_TIMEOUT
                });
            });

            function initAdserver() {
                if (pbjs.initAdserverSet) return;
                pbjs.initAdserverSet = true;
                googletag.cmd.push(function() {
                    pbjs.setTargetingForGPTAsync && pbjs.setTargetingForGPTAsync();
                    googletag.pubads().refresh();
                });
            }
            
            setTimeout(function() {
                initAdserver();
            }, FAILSAFE_TIMEOUT);

            googletag.cmd.push(function() {
                var mapLeaTop = googletag.sizeMapping().
                    addSize([0, 0], [[320, 50],[320,100],[300,250]]).
                    addSize([768, 0], [[970, 250],[970,90],[728,90]]).
                    build();
                var mapRec = googletag.sizeMapping().
                    addSize([0, 0], [[320, 50],[320,100],[300,250]]).
                    addSize([768, 0], [[300, 250],[300,600],[160,600],[120,600]]).
                    build();
                var mapLeaBot = googletag.sizeMapping().
                    addSize([0, 0], [[320, 50],[320,100],[300,250]]).
                    addSize([768, 0], [[970,90],[728,90]]).
                    build();
                googletag.defineSlot('/1055375/Header', [[970,250],[970,90],[728,90],[320, 50]], 'div-gpt-ad-Header').setTargeting('loc', 'top').defineSizeMapping(mapLeaTop).addService(googletag.pubads());
                googletag.defineSlot('/1055375/Rectangle', [[300,250],[300,600]], 'div-gpt-ad-HP-Half-Page').setTargeting('loc', 'mid').defineSizeMapping(mapRec).defineSizeMapping(mapRec).addService(googletag.pubads());
                googletag.defineSlot('/1055375/Footer', [[970,90],[728,90],[320, 50]], 'div-gpt-ad-Footer').setTargeting('loc', 'bot').defineSizeMapping(mapLeaBot).addService(googletag.pubads());
                googletag.defineSlot('/1055375/HP_Native-Ad', ['fluid'], 'div-gpt-ad-home-page-native').addService(googletag.pubads());
                googletag.defineSlot('/1055375/HP2_Native-Ad', ['fluid'], 'div-gpt-ad-home-page-native-2').addService(googletag.pubads());
                googletag.defineSlot('/1055375/HP3_Native-Ad', ['fluid'], 'div-gpt-ad-home-page-native-3').addService(googletag.pubads());
                googletag.defineSlot('/1055375/HP4_Native-Ad', ['fluid'], 'div-gpt-ad-home-page-native-4').addService(googletag.pubads());
                googletag.pubads().enableSingleRequest();
                //googletag.pubads().collapseEmptyDivs(true);
                googletag.pubads().setTargeting('wordpress', '');
                googletag.pubads().setTargeting('keywords', ['']);
                googletag.pubads().setTargeting('script', '');
                googletag.pubads().setTargeting('usergroup', '');
                googletag.enableServices();
            });

        </script>

    </head>

    <body>
        <h2>Basic Prebid.js Example</h2>
        <h5>div-gpt-ad-Header</h5>
        <div id='div-gpt-ad-Header'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-gpt-ad-Header');
                });
            </script>
        </div>        
        <h5>Div-2</h5>
        <div id='div-gpt-ad-HP-Half-Page'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-gpt-ad-HP-Half-Page');
                });
            </script>
        </div>
        <h5>Div-2</h5>
        <div id='div-gpt-ad-Footer'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-gpt-ad-Footer');
                });
            </script>
        </div>
    </body>
</html>